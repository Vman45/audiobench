macro Waveform(INT buffer_pos, ANY_SAMPLE phase):(value) {
    DATA_TYPE SAMPLE = phase:TYPE + shape[0?]:TYPE;
    ANY_SAMPLE value = 0.0 as SAMPLE;

    value = (phase ** (Exp2(4.0 * shape[buffer_pos?]))) * 2.0 - 1.0;
}

if global_update_feedback_data {
    DisplayWaveform(SetGraphFeedback, Waveform);
}